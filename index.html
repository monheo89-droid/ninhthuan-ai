<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ninh Thu·∫≠n AI - Chuy·ªÉn C·∫£nh T·ª©c Th√¨</title>
    <style>
        :root { --vr-color: #ff9800; --shop-color: #27ae60; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }

        /* THANH ƒêI·ªÄU H∆Ø·ªöNG: LU√îN N·∫∞M TR√äN C√ôNG (Z-INDEX CAO NH·∫§T) */
        #nav-container { 
            position: fixed; top: 20px; left: 20px; z-index: 999999; 
            display: flex; gap: 15px; 
        }
        .icon-btn { 
            width: 60px; height: 60px; border-radius: 50%; border: 3px solid #fff;
            background: #fff; font-size: 28px; cursor: pointer; display: flex; 
            align-items: center; justify-content: center;
            box-shadow: 0 4px 25px rgba(0,0,0,0.7); transition: transform 0.2s;
        }
        .icon-btn:hover { transform: scale(1.1); }
        .icon-btn:active { transform: scale(0.9); }
        
        #btn-vr.active { background: var(--vr-color) !important; color: #fff; }
        #btn-shop.active { background: var(--shop-color) !important; color: #fff; }

        /* L·ªöP PH·ª¶ VIDEO GI·ªöI THI·ªÜU */
        #video-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 999998; /* Th·∫•p h∆°n thanh ƒëi·ªÅu h∆∞·ªõng 1 b·∫≠c */
            display: flex; align-items: center; justify-content: center; 
        }
        video { width: 100%; height: 100%; object-fit: cover; }

        /* KHUNG CH·ª®A N·ªòI DUNG PANOEE */
        #pano-frame { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 1; }

        /* HI·ªÜU ·ª®NG CH·ªú */
        #status-node {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            color: white; z-index: 1000; background: rgba(0,0,0,0.6);
            padding: 8px 20px; border-radius: 20px; font-size: 14px; display: none;
        }
    </style>
</head>
<body>

    <div id="nav-container">
        <div class="icon-btn" id="btn-vr" onclick="smartNav('vr')" title="üìç Xem Tour VR">üìç</div>
        <div class="icon-btn" id="btn-shop" onclick="smartNav('shop')" title="üõí V√†o Gian H√†ng">üõí</div>
    </div>

    <div id="video-overlay">
        <video id="intro-video" autoplay muted loop playsinline>
            <source src="https://monheo89-droid.github.io/ninhthuan-ai/video/intro.mp4" type="video/mp4">
        </video>
    </div>

    <iframe id="pano-frame" src=""></iframe>
    <div id="status-node">ƒêang t·∫£i kh√¥ng gian 3D...</div>

    <script>
        // C·∫•u h√¨nh link c·∫£nh
        const LINK_TOUR_VR = "https://tour.panoee.net/68972f4ba3c49352552578cd/68c2e05f65c1d76691a79f7c";
        const LINK_GIAN_HANG = "https://tour.panoee.net/68972f4ba3c49352552578cd/691b32dc061521c90def58cb";

        // T·∫£i s·∫µn VR d∆∞·ªõi n·ªÅn ƒë·ªÉ khi ƒë√≥ng video l√† th·∫•y ngay
        window.onload = () => {
            document.getElementById('pano-frame').src = LINK_TOUR_VR;
        };

        /**
         * H√ÄM ƒêI·ªÄU H∆Ø·ªöNG TH√îNG MINH
         * T·ª± ƒë·ªông ƒë√≥ng video v√† n·∫°p c·∫£nh t∆∞∆°ng ·ª©ng
         */
        function smartNav(mode) {
            // 1. Ki·ªÉm tra v√† X√ìA video gi·ªõi thi·ªáu ngay l·∫≠p t·ª©c
            const overlay = document.getElementById('video-overlay');
            if (overlay) {
                const vid = document.getElementById('intro-video');
                if (vid) vid.pause();
                overlay.remove(); // X√≥a kh·ªèi DOM ƒë·ªÉ gi·∫£i ph√≥ng b·ªô nh·ªõ
            }

            // 2. C·∫≠p nh·∫≠t tr·∫°ng th√°i Iframe v√† N√∫t b·∫•m
            const frame = document.getElementById('pano-frame');
            const bVr = document.getElementById('btn-vr');
            const bShop = document.getElementById('btn-shop');
            const status = document.getElementById('status-node');

            bVr.classList.remove('active');
            bShop.classList.remove('active');

            if (mode === 'vr') {
                bVr.classList.add('active');
                if (frame.src !== LINK_TOUR_VR) {
                    status.style.display = 'block';
                    frame.src = LINK_TOUR_VR;
                }
            } else {
                bShop.classList.add('active');
                if (frame.src !== LINK_GIAN_HANG) {
                    status.style.display = 'block';
                    frame.src = LINK_GIAN_HANG;
                }
            }
        }

        // T·ª± ƒë·ªông ·∫©n d√≤ng th√¥ng b√°o khi Iframe t·∫£i xong
        document.getElementById('pano-frame').onload = function() {
            document.getElementById('status-node').style.display = 'none';
        };
    </script>
</body>
</html>
