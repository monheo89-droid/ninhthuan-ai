<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ninh Thu·∫≠n AI - Gian H√†ng S·ªë</title>
    <style>
        :root { --primary: #ff9800; --success: #27ae60; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        /* L·ªöP PH·ª¶ VIDEO GI·ªöI THI·ªÜU */
        #intro-layer { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 100000; display: flex; flex-direction: column; align-items: center; justify-content: center; 
        }
        #v-intro { width: 100%; height: auto; max-height: 80vh; pointer-events: none; }

        .intro-controls { position: absolute; bottom: 15%; display: flex; gap: 20px; z-index: 100001; }
        .btn-start { 
            padding: 15px 35px; border: none; border-radius: 30px; color: white; 
            font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .btn-vr { background: var(--primary); }
        .btn-shop { background: var(--success); }
        .btn-start:hover { transform: scale(1.05); opacity: 0.9; }

        /* THANH ƒêI·ªÄU H∆Ø·ªöNG CH√çNH */
        #main-nav { 
            position: fixed; top: 20px; left: 20px; z-index: 99999; 
            display: none; gap: 12px; pointer-events: auto;
        }
        .nav-btn { 
            width: 55px; height: 55px; border-radius: 50%; border: 3px solid white;
            background: white; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.6); transition: 0.2s;
        }
        #btn-vr.active { background: var(--primary) !important; color: white; }
        #btn-shop.active { background: var(--success) !important; color: white; }

        /* KHUNG CH·ª®A TOUR */
        iframe { width: 100%; height: 100%; border: none; background: #000; }
        
        /* HI·ªÜU ·ª®NG LOADING NH·∫∏ */
        #loader { 
            position: fixed; top:0; left:0; width:100%; height:100%; background:#000; 
            z-index: 99998; display: none; align-items: center; justify-content: center; color: white;
        }
    </style>
</head>
<body>

    <div id="intro-layer">
        <video id="v-intro" autoplay muted loop playsinline>
            <source src="https://monheo89-droid.github.io/ninhthuan-ai/video/intro.mp4" type="video/mp4">
        </video>
        <div class="intro-controls">
            <button class="btn-start btn-vr" onclick="startApp('vr')">üìç XEM TOUR VR</button>
            <button class="btn-start btn-shop" onclick="startApp('shop')">üõí GIAN H√ÄNG S·ªê</button>
        </div>
    </div>

    <div id="loader">ƒêang t·∫£i kh√¥ng gian 3D...</div>

    <div id="main-nav">
        <button class="nav-btn" id="btn-vr" onclick="gotoTab('vr')" title="Tour VR">üìç</button>
        <button class="nav-btn" id="btn-shop" onclick="gotoTab('shop')" title="Gian h√†ng">üõí</button>
    </div>

    <iframe id="main-iframe" src=""></iframe>

    <script>
        // C√°c ƒë∆∞·ªùng d·∫´n Scene ch√≠nh x√°c
        const URL_VR = "https://tour.panoee.net/68972f4ba3c49352552578cd/68c2e05f65c1d76691a79f7c";
        const URL_SHOP = "https://tour.panoee.net/68972f4ba3c49352552578cd/691b32dc061521c90def58cb";

        function startApp(mode) {
            // 1. D·ª´ng video v√† x√≥a l·ªõp ph·ªß ngay l·∫≠p t·ª©c ƒë·ªÉ gi·∫£i ph√≥ng click
            const video = document.getElementById('v-intro');
            if (video) video.pause();
            document.getElementById('intro-layer').remove();
            
            // 2. Hi·ªán thanh ƒëi·ªÅu h∆∞·ªõng v√† loader
            document.getElementById('main-nav').style.display = 'flex';
            showLoader();

            // 3. N·∫°p n·ªôi dung theo l·ª±a ch·ªçn
            gotoTab(mode);
        }

        function gotoTab(mode) {
            const iframe = document.getElementById('main-iframe');
            const btnVr = document.getElementById('btn-vr');
            const btnShop = document.getElementById('btn-shop');

            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t b·∫•m
            btnVr.classList.remove('active');
            btnShop.classList.remove('active');

            if (mode === 'vr') {
                btnVr.classList.add('active');
                if (iframe.src !== URL_VR) {
                    showLoader();
                    iframe.src = URL_VR;
                }
            } else {
                btnShop.classList.add('active');
                // N·∫øu ƒëang kh√¥ng ·ªü link shop th√¨ m·ªõi n·∫°p l·∫°i
                if (iframe.src !== URL_SHOP) {
                    showLoader();
                    iframe.src = URL_SHOP;
                }
            }
        }

        function showLoader() {
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            // T·ª± ƒë·ªông ·∫©n loader sau 2 gi√¢y (gi·∫£ ƒë·ªãnh Panoee ƒë√£ load xong)
            setTimeout(() => { loader.style.display = 'none'; }, 2000);
        }

        // ƒê·∫£m b·∫£o ·∫©n loader khi iframe t·∫£i xong
        document.getElementById('main-iframe').onload = function() {
            document.getElementById('loader').style.display = 'none';
        };
    </script>
</body>
</html>
